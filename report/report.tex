\include{settings}

\begin{document}

\include{titlepage}

\tableofcontents
\newpage

\section{Техническое задание}
\textbf{Система терминального доступа}
\begin{itemize}

\item \textbf{Задание}

\hspace{14pt} Разработать клиент-серверную систему терминального доступа, позволяющую клиентам подсоединяться к серверу и выполнять элементарные команды операционной системы.

\item \textbf{Основные возможности серверного приложения}
\begin{enumerate}
\item Прослушивание определенного порта
\item Обработка запросов на подключение по этому порту от клиентов
\item Поддержка одновременной работы нескольких терминальных клиентов через механизм нитей
\item Проведение аутентификации клиента на основе полученных имени пользователя и пароля

\item Выполнение команд пользователя:
\begin{itemize}
\item[>] ls – выдача содержимого каталога
\item[>] cd – смена текущего каталога
\item[>] who – выдача списка зарегистрированных пользователей с указанием их текущего каталога
\item[>] kill – Привилегированная команда. Завершение сеанса другого пользователя
\item[>] logout – выход из системы
\end{itemize}

\item Принудительное отключение клиента
\end{enumerate}

\item \textbf{Клиентское приложение должно реализовывать следующие функции:}
\begin{enumerate}
\item Установление соединения с сервером
\item Посылка аутентификационных данных клиента (имя и пароль)
\item Посылка одной из команд (ls, cd, who, kill, logout) серверу
\item Получение ответа от сервера
\item Разрыв соединения
\item Обработка ситуации отключения клиента сервером или другим клиентом
\end{enumerate}

\item \textbf{Настройки приложений} 

\hspace{14pt} Разработанное клиентское приложение должно предоставлять пользователю настройку IP-адреса или доменного имени удалённого терминального сервера и номера порта, используемого
сервером. Разработанное серверное приложение должно хранить аутентификационные данные для вех пользователей, а также списки разрешенных каждому пользователю команд.

\item \textbf{Методика тестирования} 

\hspace{14pt}  Для тестирования приложений запускаетсятерминальный сервер и несколько клиентов. В процессе тестирования проверяются основные возможности сервера по параллельной работе нескольких клиентов, имеющих различные привилегии (списки разрешенных команд). Проверяется корректность выполнения всех команда в различных ситуациях.

\end{itemize}

\section{Прикладной протокол}

Для реализации технического задания был разработан прикладной протокол передачи данных.

Протоколом задаётся два формата запроса для взаимодействия клиента с сервером:

\begin{itemize}
\item запрос аутентификации с помощью пары логин:пароль \ref{tab:request_login}
\item запрос выполнения определённой команды \ref{tab:request_command} 
\end{itemize}

\begin{table}[h]
	\centering
	\begin{tabular}[center]{| M{12.5cm} | M{2.5cm} |}
	\hline
	Login:Password: & Package Index \\ \hline
	[ 0 - 507 ] & [ 508 - 511 ] \\
	\hline
	\end{tabular}
	\caption{Формат запроса аутентификации}
	\label{tab:request_login}
\end{table}

\begin{table}[h]
	\centering
	\begin{tabular}[center]{| M{2.5cm} | M{2.0cm} | M{7.0cm} | M{2.5cm} |}
	\hline
	Message Length & Command Descriptor & Command Parameters & Package Index \\ \hline
	[ 0 - 3 ] & [ 4 ] & [ 5 - 507 ] & [ 508 - 511 ] \\
	\hline
	\end{tabular}
	\caption{Формат запроса выполнения команды}
	\label{tab:request_command}
\end{table}

Оба запроса имеют одинаковый размер - 512 байт. 

\textbf{В таблице формата аутентификации \ref{tab:request_login}:}
\begin{itemize}
\item Login:Password - поле, содержащее передаваемые клиентом логин и пароль, необходимые для подключения к серверу. Протоколом задается формат ввода пары следующим образом:
\begin{table}[h]
	\centering
	\begin{tabular}{| l l l l |}
	\hline
	[login] & : & [password] & : \\ 
	\hline
	\end{tabular}
\end{table}

Поле занимает 508 байт, задавая тем самым максимально возможнуюю длинну пары логин:пароль равной 508 символам.

\item Package Index - поле, хранящее индекс пересылаемого пакета. Благодаря наличию этого поля протокол гарантирует последовательный приём пакетов (защита от перемешивания). Так же, контроль номера пакета усложняет возможность атаки с имитацией адреса клиента поторонними. Длина поля - 4 байта, что позволяет обеспечить до 9999 последовательных запросов клиента серверу. В условиях технического задания данная продолжительность взаимодействия клиента с сервером более чем достаточна. При превышении этого значения клиент будет отключён от сервера. Тем самым гарантируется пресечение чрезмерно активного трафика, исходящего от клиента, который может свидетельствовать о зловредном характере запросов клиента
\end{itemize}


\textbf{В таблице запроса выполнения команды \ref{tab:request_command}:}
\begin{itemize}
\item Message Length - длина параметров команды. В случае если команда не имеет параметров, данное поле заполняется нулями. Под данное поле выделено 4 байта.
\item Command Descriptor - целое число - дескриптор команды, однозначно определяющий требуемую команду:
\begin{itemize}
\item[-] 1 – выдача содержимого каталога ls
\item[-] 2 – смена текущего каталога cd
\item[-] 3 – выдача списка зарегистрированных пользователей с указанием их текущего каталога who
\item[-] 4 – Привилегированная команда. Завершение сеанса другого пользователя kill
\item[-] 5 – выход из системы logout
\end{itemize}
Список поддерживаемых протоколом команд ограничиваются пятью, вследствии чего под дескриптор задачи выделено поле в 1 байт.

\item Command Parameters - поле длинной 499 байт, содержит параметры команд: cd и kill
\item Package Index - поле, хранящее индекс пересылаемого пакета. Идентично одноимённому полю запроса аутентификации
\end{itemize}





\end{document}
